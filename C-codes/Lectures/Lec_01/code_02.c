#include <stdio.h>  // Включване на стандартната библиотека за вход и изход (printf, scanf)
#include <stdlib.h> // Включване на стандартната библиотека
#include <math.h>   // Включване на математическата библиотека (тук се използва за PI и евентуални математически операции)

#define END 10000   // Дефиниране на константа END, която указва броя на итерациите в серията на Тейлър
#define PI 3.14159265359 // Дефиниране на константа PI за точни изчисления с радиани

int main(void) // Главната функция, която се изпълнява при стартиране на програмата
{
    int xdeg;          // Целочислена променлива за ъгъла в градуси, който ще бъде въведен от потребителя
    float xrad;        // Дробна променлива (float), в която ще се съхранява еквивалента на градусите в радиани
    double mysin, n;   // Двойноточностни променливи (double) за изчисляване на синуса чрез серията на Тейлър
    unsigned cnt = 3;  // Беззнакова (unsigned) променлива, която ще служи като брояч за факториала в серията на Тейлър

    printf("x=");     // Извежда на екрана "x=" като подкана за въвеждане на стойност
    scanf("%d",&xdeg); // Чете въведената от потребителя стойност и я записва в променливата xdeg
    xrad = xdeg * PI / 180; // Преобразуване на градуси в радиани чрез умножение по PI/180

    mysin = n = xrad; // Инициализация: mysin приема първия член от реда на Тейлър, който е самият ъгъл в радиани

    for (unsigned i = 1; i < END; ++i, cnt += 2) { // Цикъл, който изчислява стойността на синуса чрез реда на Тейлър
        n *= (-1) * xrad * xrad / (cnt * (cnt - 1)); // Пресмятане на следващия член в реда на Тейлър
        mysin += n; // Натрупване на следващия член към сумата
    }

    printf("sin(%d)=%g\n", xdeg, mysin); // Извеждане на изчислената стойност на синуса
    printf("From math: sin(%d)=%g\n", xdeg, sin(xrad)); // Сравнение със стандартната функция sin() от math.h

    return 0; // Връщане на 0, което показва, че програмата е изпълнена успешно
}
